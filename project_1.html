<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="d3.min.js"></script>
</head>
<body>
	<script type="text/javascript">
		function make() {
			if (!clicked) {
				var totalRest = 0.0
				for (var i = 0; i<5; i++){
					totalRest = totalRest + marketShares[i]
				}
				websites.push("Other");
				marketShares.push(100 - totalRest);
				d3.select("body").append("div").attr("class", "chart");
				d3.select(".chart").selectAll("div")
					.data(marketShares)
					.enter().append("div").attr("id", "child")
					.style("width", function(d) { return d * 25 + "px"; })
					.style("height", "30px")
					.style("display", "block")
					.style("background-color", "steelblue")
					.style("padding", "3px")
					.style("margin", "1px")
					.style("text-align", "right")
					.style("font", "10px sans-serif")
					.style("color", "white")
					.text(function(d,i) { return websites[i] + " " + d + "%"; });
				clicked = true;}
				}
		var clicked = false
		var marketShares = []
		var websites = []
		d3.csv("browser-ww-monthly-201305-201405.csv", function (data) {
			for (var i=0;i<5;i++) {
				marketShares.push(parseFloat(data[i]["Market Share Perc. (May 2013 to May 2014)"]));
				websites.push(data[i].Browser); }
		});
	</script>
	<button onclick="make();"> Market Share Percentages for the Five Most Popular Browsers </button>
	<button onclick="make2();"></button><br>
  </body>
</html>