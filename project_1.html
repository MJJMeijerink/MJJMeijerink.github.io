<!DOCTYPE html>
<html>
  <head>
  <script type="text/javascript" src="d3.min.js"></script>
  </head>
  <body>
	<script type="text/javascript">
		function make() {
		if (!clicked) {
		var x = d3.scale.linear()
			.domain([0, d3.max(marketShares)])
			.range([0, (42.92*25)]);
		d3.select("body").append("svg").attr("class", "chart");
var chart = d3.select(".chart")
    .attr("width", 42.9*25)
    .attr("height", 30 * marketShares.length);

var bar = chart.selectAll("g")
    .data(marketShares)
  .enter().append("g")
    .attr("transform", function(d, i) { return "translate(0," + i * 30 + ")"; });

bar.append("rect")
    .attr("width", x)
    .attr("height", 30 - 1);

bar.append("text")
    .attr("x", function(d) { return x(d) - 3; })
    .attr("y", 30 / 2)
    .attr("dy", ".35em")
    .text(function(d) { return d; });
		clicked = true;}}
		var clicked = false
		var marketShares = []
		var websites = []
		d3.csv("browser-ww-monthly-201305-201405.csv", function (data) {
		for (var i=0;i<5;i++) {
		marketShares.push(data[i]["Market Share Perc. (May 2013 to May 2014)"]);
		websites.push(data[i].Browser); }
		});
</script>
<button onclick="make();"> Market Share Percentages for the Five Most Popular Browsers </button>
  </body>
</html>